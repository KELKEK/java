<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
.orange{ border : 5px dotted orange;}
.pink{ border : 5px dotted hotpink;}

</style>
<script>
	window.onload = init;
	function init() {
		var btn1 = document.querySelector("button:nth-of-type(1)");
		var btn2 = document.querySelector("button:nth-of-type(2)");
		btn3 = document.querySelector("button:nth-of-type(3)");
		btn4 = document.querySelector("button:nth-of-type(4)");
		var btn5 = document.querySelector("button:nth-of-type(5)");
		var btn6 = document.querySelector("button:nth-of-type(6)");
		var btn7 = document.querySelector("button:nth-of-type(7)");
		var img1 = document.querySelector("#SKYHIGH");
		var frm = document.querySelector("#myfrm");
		var div = document.querySelector("#mydiv");
		var h1 = document.querySelector("#myh1");
		var div2 = document.querySelector("#mydiv2");
		var h2 = document.querySelector("#myh2");
		frm.onsubmit = f_frmcheck;
		btn1.onclick = f_btn1;
		btn2.onclick = f_btn2;
		btn3.onclick = f_btn3;
		img1.onclick = f_btn3;
		btn4.onclick = f_btn4;
		btn5.onclick = f_btn5;
		btn6.addEventListener("click", f_btn6);
		btn7.addEventListener("click", f_btn7);
		div.onclick = function(){alert("div이다.");};
		h1.onclick = function(event){
			alert("div 안에 있는 h1이다.");
			event = event||window.event;
			event.stopPropagation();
		};
		
		div2.addEventListener("click", function(){alert("!div이다.");}, true);//이벤트캡처링
		h2.addEventListener("click", function(){alert("!div 안에 있는 h1이다.");}, false);//이벤트버블링(false)이 디폴트
		
		function f_btn6(){
			//내부함수
			//img1.style.border = "5px dotted green";
			img1.className = "orange";//css로 함수를 더 간단하게 함
		}
		function f_btn7(){
			//img1.style.border = "5px dotted orange";
			img1.className = "pink";
		}
	}
	function f_frmcheck() {
		var userid = document.querySelector("#userid").value;
		if (userid != 'admin')
			return false; //default event 취소(서버전송 취소)
	}

	function f_btn1() {
		here.innerHTML = "<h1>innerHTML연습</h1>";//태그도 해석이 됨
	}
	function f_btn2() {
		here.innerText = "<h1>innerHTML연습</h1>";
	}
	function f_btn3() {
		var output;
		//selector : *, #, .태그
		output = document.querySelector("#aa + img").getAttribute("src");
		//output = document.getElementById("SKYHIGH").getAttribute("src");
		//output = document.getElementByClassName("SKYHIGH")[0].getAttribute("src");
		if (output == "../03/images/activity.jpg") {
			document.querySelector("#aa + img").setAttribute("src",
					`../03/images/healing.jpg`); //이미지 경로 속성 얻어옴
		} else {
			document.querySelector("#aa + img").setAttribute("src",
					"../03/images/activity.jpg");
		}
		here.innerHTML = output;
		here.innerHTML += "<hr>" + "X=" + event.pageX + " Y=" + event.pageY;
		here.innerHTML += "<hr> click한 객체 : " + this;
		console.log(event);
	}
	function f_btn4() {
		//이벤트를 1번만 발생시키고 싶을 때
		alert(this.innerText);
		btn4.onclick = null;
		//더 이상 alert반응이 일어나지 않음
	}
	function f_btn5() {
		//btn3.onclick();//이벤트 호출
		f_btn3();//함수 호출
	}
</script>
<style>
div, div h1, span{
	border : 1px solid gray;
	padding : 10px;
}
</style>
</head>
<body>
	<div id="mydiv"><h1 id="myh1">DOM(Document Object Model)에 대하여..</h1></div>
	<div id="mydiv2"><h1 id="myh2">이벤트(표준)</h1></div>
	<button>innerHTML</button>
	<button>innerText</button>
	<button id="aa">속성접근</button>
	<button>이벤트지우기</button>
	<button>이벤트호출</button>
	<button>스타일 변경1</button>
	<button>스타일 변경2</button>
	<hr>
	<h1>default이벤트에 대하여</h1>
	<form id="myfrm" onsubmit="return call();">
		<!-- ""일 경우 현재페이지를 다시 보여줌, 서버에 전송하고자 할 때는 다른 주소명을 적어주자., return false의 경우 절대 다음으로 못 감, true일 경우는 무조건 감 -->
		아이디 : <input id="userid"> <input type="submit" value="서버에 전송">
		<button>서버에 전송2(submit과 같음)</button>
		<input type="button" value="form내의button(submit과 다름)"
			onclic="alert('button')">
	</form>
	<hr>
	<div onclick="alert('바깥div')">
		<div id="mydiv" onclick="alert('안쪽div'); event.stopPropagation();">
			<h1 id="myh1" onclick="alert('h1'); event.stopPropagation();">
				이벤트의 <span onclick="alert('span'); event.stopPropagation();">버블링과</span> 캡쳐링 연습하기
			</h1><!-- 안쪽에서 바깥으로 계속 이벤트 버블링 된다. -->
		</div>
	</div>
	<img id="SKYHIGH" src="../03/images/activity.jpg" alt="집가고싶다.">
	<hr>
	<div id="here">여기</div>
	<!-- id=here가 먼저 선행되어야 innerHTML을 쓸 수 있다. -->
</body>
</html>